(this["webpackJsonpsrc-new"]=this["webpackJsonpsrc-new"]||[]).push([[0],{131:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(10),r=n.n(o),i=n(50),c=n(11),p=n(24),s=n(2),l=(n(104),n(105),n(15)),j=n(25),h=n(27),b=n(3),d=n(18),_=n.n(d),u=/^[a-zA-Z\s]+$/,O=function(e){return{props:{personalInfo:{props:{first_name:{isRequired:!0,validators:[function(e){var t;return[!e&&"Name is required",!(null!==(t=u.exec(e))&&void 0!==t&&t.length)&&"Name should contain latin alphabet characters!"]}]},last_name:{isRequired:!0,validators:[function(e){var t;return[!e&&"Surname is required",!(null!==(t=u.exec(e))&&void 0!==t&&t.length)&&"Surname should contain latin alphabet characters!"]}]},organization:{isRequired:!1,validators:[function(e){var t;return e?[!(null!==(t=u.exec(e))&&void 0!==t&&t.length)&&"Organization should contain only Latin alphabet characters!"]:[]}]},position:{isRequired:!1,validators:[function(e){var t;return e?[!(null!==(t=u.exec(e))&&void 0!==t&&t.length)&&"Position should contain only Latin alphabet characters!"]:[]}]},policy:{isRequired:!0}}},personContacts:{props:{phone_number:{},email_address:{}}}}}},x=n(14),y=n.n(x),m=n(1),g=[{id:"1",caption:"Personal"},{id:"0",caption:"Work"}],f={personContacts:{phone_number:"",phone_personal:"1",email_address:"",email_personal:"1"},personalInfo:{first_name:"",last_name:"",organization:"",position:"",policy:void 0}},v=Object(m.jsxs)("p",{children:["I accept\xa0",Object(m.jsx)("a",{href:"/custom/privacy_policy.pdf",download:"Privacy_policy",children:"privacy policy"})]}),P=function(e){var t=e.lens;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.RichTextView,{children:Object(m.jsx)("h4",{className:y.a.sectionTitle,children:"Personal Info"})}),Object(m.jsxs)(s.FlexRow,{vPadding:"12",spacing:"18",children:[Object(m.jsx)(s.FlexCell,{minWidth:300,children:Object(m.jsx)(s.LabeledInput,Object(b.a)(Object(b.a)({htmlFor:"first_name",label:"Name"},t.prop("first_name").toProps()),{},{children:Object(m.jsx)(s.TextInput,Object(b.a)(Object(b.a)({},t.prop("first_name").toProps()),{},{id:"first_name",placeholder:"Ivan"}))}))}),Object(m.jsx)(s.FlexCell,{minWidth:300,children:Object(m.jsx)(s.LabeledInput,Object(b.a)(Object(b.a)({htmlFor:"last_name",label:"Surname"},t.prop("last_name").toProps()),{},{children:Object(m.jsx)(s.TextInput,Object(b.a)(Object(b.a)({},t.prop("last_name").toProps()),{},{id:"last_name",placeholder:"Petrov"}))}))})]}),Object(m.jsxs)(s.FlexRow,{vPadding:"12",spacing:"18",children:[Object(m.jsx)(s.FlexCell,{minWidth:300,children:Object(m.jsx)(s.LabeledInput,Object(b.a)(Object(b.a)({htmlFor:"organization",label:"Organization"},t.prop("organization").toProps()),{},{children:Object(m.jsx)(s.TextInput,Object(b.a)(Object(b.a)({},t.prop("organization").toProps()),{},{id:"organization",placeholder:"EPAM Systems"}))}))}),Object(m.jsx)(s.FlexCell,{minWidth:300,children:Object(m.jsx)(s.LabeledInput,Object(b.a)(Object(b.a)({htmlFor:"position",label:"Position"},t.prop("position").toProps()),{},{children:Object(m.jsx)(s.TextInput,Object(b.a)(Object(b.a)({},t.prop("position").toProps()),{},{id:"position",placeholder:"Developer"}))}))})]})]})},F=function(e){var t=e.lens;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.RichTextView,{children:Object(m.jsx)("h4",{className:y.a.sectionTitle,children:"Contact Info"})}),Object(m.jsxs)(s.FlexRow,{vPadding:"12",spacing:"18",children:[Object(m.jsx)(s.FlexCell,{minWidth:300,children:Object(m.jsx)(s.LabeledInput,Object(b.a)(Object(b.a)({htmlFor:"p",label:"Phone number"},t.prop("phone_number").toProps()),{},{children:Object(m.jsx)(s.TextInput,Object(b.a)(Object(b.a)({},t.prop("phone_number").toProps()),{},{id:"phone",placeholder:"+..."}))}))}),Object(m.jsx)(s.FlexCell,{minWidth:250,children:Object(m.jsx)(s.LabeledInput,Object(b.a)(Object(b.a)({label:"Phone Type"},t.prop("phone_personal").toProps()),{},{children:Object(m.jsx)(s.MultiSwitch,Object(b.a)(Object(b.a)({},t.prop("phone_personal").toProps()),{},{items:g}))}))})]}),Object(m.jsxs)(s.FlexRow,{vPadding:"12",spacing:"18",children:[Object(m.jsx)(s.FlexCell,{minWidth:300,children:Object(m.jsx)(s.LabeledInput,Object(b.a)(Object(b.a)({htmlFor:"email",label:"Email"},t.prop("email_address").toProps()),{},{children:Object(m.jsx)(s.TextInput,Object(b.a)(Object(b.a)({},t.prop("email_address").toProps()),{},{id:"email",placeholder:"example@gmail.com"}))}))}),Object(m.jsx)(s.FlexCell,{minWidth:250,children:Object(m.jsx)(s.LabeledInput,Object(b.a)(Object(b.a)({label:"Email Type"},t.prop("email_personal").toProps()),{},{children:Object(m.jsx)(s.MultiSwitch,Object(b.a)(Object(b.a)({},t.prop("email_personal").toProps()),{},{items:g}))}))})]})]})},C=function(e){var t=e.lens;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.FlexRow,{vPadding:"12",children:Object(m.jsx)(s.FlexCell,{width:"auto",cx:y.a.container,children:Object(m.jsx)(s.Checkbox,Object(b.a)(Object(b.a)({},t.prop("policy").toProps()),{},{label:v}))})})})};function w(){var e=Object(c.useUuiContext)(),t=a.useState(f),n=Object(h.a)(t,2),o=n[0],r=(n[1],a.useState(!1)),i=Object(h.a)(r,2),p=i[0],d=i[1],u=function(){var t=Object(j.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d(!0),_()("/api/v1/vcard").then((function(){e.uuiNotifications.show((function(e){return Object(m.jsx)(s.SuccessNotification,Object(b.a)(Object(b.a)({},e),{},{children:Object(m.jsx)(s.Text,{size:"36",font:"sans",fontSize:"14",children:"Card is available!"})}))}),{duration:2}),d(!1)})).catch((function(t){e.uuiNotifications.show((function(e){return Object(m.jsx)(s.ErrorNotification,Object(b.a)(Object(b.a)({},e),{},{children:Object(m.jsx)(s.Text,{size:"36",font:"sans",fontSize:"14",children:"Card is not available!"})}))}),{duration:5}),console.log(t),d(!1)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.a.post("/api/v1/vcard",Object(b.a)(Object(b.a)(Object(b.a)({},t.personContacts),t.personalInfo),{},{phone_personal:Boolean(t.personContacts.phone_personal),email_personal:Boolean(t.personContacts.email_personal)})).then((function(){return{form:f}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(c.useForm)({value:o,getMetadata:O,onSave:x,onSuccess:function(){e.uuiNotifications.show((function(e){return Object(m.jsx)(s.SuccessNotification,Object(b.a)(Object(b.a)({},e),{},{children:Object(m.jsx)(s.Text,{size:"36",font:"sans",fontSize:"14",children:"Data has been written!"})}))}),{duration:2})}}),v=g.lens,w=g.save,I=g.revert,k=g.isInProgress;return Object(m.jsxs)("div",{className:y.a.root,children:[Object(m.jsxs)(s.FlexCell,{width:"100%",children:[Object(m.jsx)(P,{lens:v.prop("personalInfo")}),Object(m.jsx)(F,{lens:v.prop("personContacts")}),Object(m.jsx)(C,{lens:v.prop("personalInfo")}),Object(m.jsx)("hr",{className:y.a.divider}),Object(m.jsxs)(s.FlexRow,{spacing:"12",children:[Object(m.jsx)(s.Button,{caption:"Restore",color:"red",onClick:I}),Object(m.jsx)(s.Button,{caption:"Clear card",color:"red",onClick:function(){d(!0),_.a.delete("/api/v1/vcard").then((function(){e.uuiNotifications.show((function(e){return Object(m.jsx)(s.SuccessNotification,Object(b.a)(Object(b.a)({},e),{},{children:Object(m.jsx)(s.Text,{size:"36",font:"sans",fontSize:"14",children:"Card was erased!"})}))}),{duration:2}),d(!1)})).catch((function(t){e.uuiNotifications.show((function(e){return Object(m.jsx)(s.ErrorNotification,Object(b.a)(Object(b.a)({},e),{},{children:Object(m.jsx)(s.Text,{size:"36",font:"sans",fontSize:"14",children:"Card is not available!"})}))}),{duration:5}),console.log(t),d(!1)}))}}),Object(m.jsx)(s.FlexSpacer,{}),Object(m.jsx)(s.Button,{caption:"Check",color:"green",fill:"white",onClick:u}),Object(m.jsx)(s.Button,{caption:"Write",color:"green",onClick:w})]})]}),(p||k)&&Object(m.jsx)(s.Blocker,{isEnabled:p||k})]})}var I=n(26),k=n.n(I),T=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(s.Panel,{cx:k.a.mainPanel,background:"white",shadow:!0,children:[Object(m.jsx)(s.RichTextView,{size:"14",children:Object(m.jsx)("h2",{className:k.a.title,children:"Fill form to create NFC Card"})}),Object(m.jsx)(w,{})]})})},S=n.p+"static/media/logo.f530c1fd.svg",z=function(){return Object(m.jsx)(s.MainMenu,{appLogoUrl:S,children:Object(m.jsx)(s.MainMenuButton,{caption:"Create your NFC Card",priority:1,estimatedWidth:72})})},M=n(49),N=n.n(M),R=function(){return Object(m.jsxs)("div",{className:N.a.app,children:[Object(m.jsx)(z,{}),Object(m.jsx)("main",{children:Object(m.jsx)(T,{})})]})},L={},A=Object(i.a)(),W=function(){return Object(m.jsx)(c.ContextProvider,{onInitCompleted:function(e){Object.assign(L,e)},history:A,children:Object(m.jsxs)(s.ErrorHandler,{children:[Object(m.jsx)(R,{}),Object(m.jsx)(p.Snackbar,{})]})})};r.a.render(Object(m.jsx)(W,{}),document.getElementById("root"))},14:function(e,t,n){e.exports={"typography-header":"Form_typography-header__2S5BK","typography-block":"Form_typography-block__356HF","typography-inline":"Form_typography-inline__3hR1P","typography-16":"Form_typography-16__3vwQ1","typography-14":"Form_typography-14__QObLp","typography-12":"Form_typography-12__2gEi2","typography-promo":"Form_typography-promo__1k7_2 Form_typography-header__2S5BK Form_typography-block__356HF Form_typography-inline__3hR1P",root:"Form_root__3YKTP","form-panel":"Form_form-panel__1cP4i",sectionTitle:"Form_sectionTitle__2s8jk","info-icon":"Form_info-icon__2vZz2","clear-button-wrapper":"Form_clear-button-wrapper__o894U","attachment-container":"Form_attachment-container__iQgA1",divider:"Form_divider__eyTx9"}},26:function(e,t,n){e.exports={"typography-header":"MainPage_typography-header__2exrG","typography-block":"MainPage_typography-block__3CpWc","typography-inline":"MainPage_typography-inline__1mQRO","typography-16":"MainPage_typography-16__3AI0p","typography-14":"MainPage_typography-14__1Rmjb","typography-12":"MainPage_typography-12__1t0g6","typography-promo":"MainPage_typography-promo__1y8rD MainPage_typography-header__2exrG MainPage_typography-block__3CpWc MainPage_typography-inline__1mQRO",uuiTitle:"MainPage_uuiTitle__v47bL",title:"MainPage_title__2jXrH",mainPanel:"MainPage_mainPanel__140Pj"}},49:function(e,t,n){e.exports={"typography-header":"App_typography-header__1LsId","typography-block":"App_typography-block__6WDu_","typography-inline":"App_typography-inline__3y9Vu","typography-16":"App_typography-16__60axI","typography-14":"App_typography-14__3hCga","typography-12":"App_typography-12__2wBcL","typography-promo":"App_typography-promo__1Sj1H App_typography-header__1LsId App_typography-block__6WDu_ App_typography-inline__3y9Vu",app:"App_app__2ziFi"}}},[[131,1,2]]]);
//# sourceMappingURL=main.f3dde914.chunk.js.map